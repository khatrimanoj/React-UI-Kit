{"ast":null,"code":"import _classCallCheck from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import ReactDOM from'react-dom';import Dropdowncontainer from'../dropdowncontainer/dropdownconatiner';import Input from'../dropdownsearch/dropdownsearch';import Button from'../../../button/buttonprop/buttonprop';var dropdownmarge=/*#__PURE__*/function(_Component){_inherits(dropdownmarge,_Component);function dropdownmarge(props){var _this;_classCallCheck(this,dropdownmarge);_this=_possibleConstructorReturn(this,_getPrototypeOf(dropdownmarge).call(this,props));_this.checkType=function(value){_this.setState({typeDropdown:value});};_this.transformJSON=function(data,value){var newObj=[];(function filterJSON(obj,searchValue){if(obj.name&&obj.name.toString().toLowerCase().indexOf(searchValue)>-1){newObj.push(obj);return;}for(var key in obj){if(typeof obj[key]==\"object\"&&obj[key]!==null){filterJSON(obj[key],searchValue);}}})(data,value);return newObj;};_this.showDropdown=function(){_this.setState({isOpen:true});document.addEventListener(\"click\",_this.hideDropdown);};_this.hideDropdown=function(){_this.setState({isOpen:false});document.removeEventListener(\"click\",_this.hideDropdown);};_this.handleInput=function(event){_this.state={value:event.target.value.toLowerCase()};_this.setState({data:_this.transformJSON(_this.props.data,event.target.value.toLowerCase())});_this.setState({isOpen:true});document.removeEventListener(\"click\",_this.hideDropdown);};_this.handleInput=_this.handleInput.bind(_assertThisInitialized(_this));_this.showDropdown=_this.showDropdown.bind(_assertThisInitialized(_this));_this.updateState=_this.updateState.bind(_assertThisInitialized(_this));_this.clearInput=_this.clearInput.bind(_assertThisInitialized(_this));_this.state={data:_this.props.data,labelItem:null,typeDropdown:null,selected:null,searcharray:''};return _this;}_createClass(dropdownmarge,[{key:\"componentWillMount\",value:function componentWillMount(){var name=this.props.data[0].name;var firstItem=null;if(typeof name!='undefined'){this.checkType(false);firstItem=name;}else{this.checkType(true);firstItem=this.props.data[0];}this.setState({labelItem:firstItem});}},{key:\"updateState\",value:function updateState(e){this.setState({searcharray:e.target.value});}},{key:\"clearInput\",value:function clearInput(e){this.setState({searcharray:''});this.setState({data:this.transformJSON(this.props.data,e.target.value.toLowerCase())});ReactDOM.findDOMNode(this.refs.inputRef).focus();}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,searching=_this$props.searching,button=_this$props.button,size=_this$props.size,border=_this$props.border,link=_this$props.link;var dropdownClassname=\"\\n        dropdown\\n        \".concat(size==='lg'&&'lg-dropdown',\"\\n        \");var dropdowntoggleclass=\"\\n        dropdown-toggle\\n        \".concat(border==='false'&&'bordernone',\"\\n        \");/* dropdown with search start here*/var searchinput;if(searching===true){searchinput=React.createElement(Input,{handleChange:this.handleInput,updatevalue:this.updateState,searchvalue:this.state.searcharray,clearInput:this.clearInput,ref:this.inputRef});}else{searchinput=null;}/*dropdown search end here*/ /*dropdown with button start here*/var dbutton;if(button===true){dbutton=React.createElement(\"li\",{className:\"no-padding-bottom no-hover-bg d-btnli\"},React.createElement(Button,{style:this.props.btnstyle,label:this.props.btnlable,Lefticon:true,icon:this.props.btnicon}));}else{dbutton=null;}/*dropdown with button end here*/ /*dropdown view all link start here*/var dlink;if(link===true){dlink=React.createElement(\"li\",{className:\"no-hover-bg\"},React.createElement(\"a\",{className:this.props.linkstyle,href:this.props.linkurl},this.props.linklable));}else{dlink=null;}/*dropdown view all link end here*/return React.createElement(\"div\",{className:\" \".concat(dropdownClassname,\" \").concat(this.state.isOpen?'open':'')},React.createElement(\"button\",{className:dropdowntoggleclass,type:\"button\",onClick:this.showDropdown},this.state.labelItem),React.createElement(\"ul\",{className:\"dropdown-menu\"},React.createElement(Dropdowncontainer,{data:this.state.data,onClick:function onClick(){return _this2.chooseItem();}},searchinput),dlink,dbutton));}}]);return dropdownmarge;}(Component);dropdownmarge.defaultProps={data:[]};export default dropdownmarge;","map":{"version":3,"sources":["/home/mindbox/Documents/manoj/nexus/src/components/Dropdown/dropdownstructure/dropdownmarge/dropdownmarge.js"],"names":["React","Component","ReactDOM","Dropdowncontainer","Input","Button","dropdownmarge","props","checkType","value","setState","typeDropdown","transformJSON","data","newObj","filterJSON","obj","searchValue","name","toString","toLowerCase","indexOf","push","key","showDropdown","isOpen","document","addEventListener","hideDropdown","removeEventListener","handleInput","event","state","target","bind","updateState","clearInput","labelItem","selected","searcharray","firstItem","e","findDOMNode","refs","inputRef","focus","searching","button","size","border","link","dropdownClassname","dropdowntoggleclass","searchinput","dbutton","btnstyle","btnlable","btnicon","dlink","linkstyle","linkurl","linklable","chooseItem","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport Dropdowncontainer from '../dropdowncontainer/dropdownconatiner';\nimport Input from '../dropdownsearch/dropdownsearch';\nimport Button from '../../../button/buttonprop/buttonprop';\n\nclass dropdownmarge extends Component {\n    static propTypes = {\n        data: PropTypes.array.isRequired\n      };\n      static defaultProps = {\n        data: []\n      };\n      \n    constructor(props) {\n        super(props);\n        this.handleInput=this.handleInput.bind(this);\n        this.showDropdown = this.showDropdown.bind(this);\n        this.updateState = this.updateState.bind(this);\n        this.clearInput = this.clearInput.bind(this);\n\n\n        \n        this.state={\n            data:this.props.data,\n            labelItem: null,\n            typeDropdown: null,\n            selected: null,\n            searcharray: '',\n\n        };\n    }\n    componentWillMount() {\n        const { name } = this.props.data[0];\n        let firstItem = null;    \n        if (typeof name != 'undefined') {\n          this.checkType(false);\n          firstItem = name;\n        } else {\n          this.checkType(true);\n          firstItem = this.props.data[0];\n        }        \n        this.setState({\n            labelItem: firstItem\n        });    \n      }\n      \n    \n      checkType = (value) => {\n        this.setState({\n            typeDropdown: value\n        });    \n      };\n      \n    transformJSON=(data, value)=>{\n    let newObj=[];\n        (function filterJSON(obj, searchValue)\n        {\n            if(obj.name && (obj.name.toString().toLowerCase().indexOf(searchValue) >-1)){\n                newObj.push(obj);\n                return\n            }\n            for (var key in obj)\n            {\n                if (typeof obj[key] == \"object\" && obj[key] !== null){\n                    filterJSON(obj[key],searchValue);\n                }\n            }\n        })(data, value);\n        return newObj;\n    };\n    showDropdown = () => {\n        this.setState({ isOpen: true });\n        document.addEventListener(\"click\", this.hideDropdown);\n      };\n      hideDropdown = () => {\n        this.setState({ isOpen: false });\n        document.removeEventListener(\"click\", this.hideDropdown);\n      };\n    handleInput=(event) =>{\n      this.state={\n            value:event.target.value.toLowerCase()\n        };\n        this.setState({data: this.transformJSON(this.props.data,event.target.value.toLowerCase())});\n        this.setState({ isOpen: true });\n        document.removeEventListener(\"click\", this.hideDropdown);\n    };\n \n    updateState(e) {\n      this.setState({searcharray: e.target.value});\n      \n   }\n    clearInput(e) {\n      this.setState({searcharray: ''});\n      this.setState({data: this.transformJSON(this.props.data,e.target.value.toLowerCase())});\n      ReactDOM.findDOMNode(this.refs.inputRef).focus();\n   }\n  \n    render() {\n      \n        const {searching,button,size,border,link} = this.props ;\n        const dropdownClassname = `\n        dropdown\n        ${size === 'lg' && 'lg-dropdown'}\n        `;   \n        const  dropdowntoggleclass = `\n        dropdown-toggle\n        ${border === 'false' && 'bordernone'}\n        `;   \n        /* dropdown with search start here*/\n        let searchinput;\n        if (searching === true) {\n          searchinput = <Input handleChange={this.handleInput} updatevalue={this.updateState} searchvalue={this.state.searcharray} clearInput={this.clearInput}  ref={this.inputRef}/>;\n        } else {\n          searchinput = null;\n        }\n        /*dropdown search end here*/\n        /*dropdown with button start here*/\n        let dbutton;\n        if (button === true) {\n          dbutton = <li  className=\"no-padding-bottom no-hover-bg d-btnli\"><Button\n          style={this.props.btnstyle} \n          label={this.props.btnlable} \n          Lefticon={true}\n          icon={this.props.btnicon}\n           /></li>;\n        } else {\n          dbutton = null;\n        }\n        /*dropdown with button end here*/\n        /*dropdown view all link start here*/\n        let dlink;\n        if (link === true) {\n          dlink = <li className=\"no-hover-bg\"><a className={this.props.linkstyle} href={this.props.linkurl}>{ this.props.linklable}</a></li>;\n        } else {\n          dlink = null;\n        }\n        /*dropdown view all link end here*/\n\n        return (\n            <div className={ ` ${dropdownClassname} ${this.state.isOpen ? 'open' : ''}`} >\n                \n                <button  className={dropdowntoggleclass} type=\"button\" onClick={this.showDropdown}>\n               {this.state.labelItem}\n              \n            </button>\n                <ul className=\"dropdown-menu\">\n                <Dropdowncontainer  data={this.state.data} onClick={() => this.chooseItem()} >\n                  {searchinput}\n                </Dropdowncontainer>\n                {dlink}\n                {dbutton}\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default dropdownmarge;"]},"metadata":{},"sourceType":"module"}