{"ast":null,"code":"var _jsxFileName = \"/home/mindbox/Documents/manoj/nexus/src/components/Sidebar/Types/LightVersion/UserSidebar.js\";\nexport default class NestedDropdown extends React.Component {\n  // const shape = {\n  //   id: Prop.Type.string.isRequired,\n  //   message: Prop.Type.node.isRequired,\n  //   link: Prop.Type.string,\n  //   options:Prop.Type.arrayOf(\n  //     Prop.Type.shape(NestedDropdown.shape)\n  //   )\n  // };\n  constructor(props) {\n    super(props);\n\n    this.handleDropdownToggle = () => {\n      let nextState = !this.state.showDropdown;\n      this.setState({\n        showDropdown: nextState,\n        selectedIds: []\n      });\n    };\n\n    this.handleDropdownClose = () => {\n      this.setState({\n        showDropdown: false,\n        selectedIds: []\n      });\n    };\n\n    this.handleSelectedId = (selected, depthLevel) => {\n      return () => {\n        const updatedArray = this.state.selectedIds.slice(0);\n        updatedArray[depthLevel] = selected;\n        this.setState({\n          selectedIds: updatedArray\n        });\n      };\n    };\n\n    this.state = {\n      showDropdown: false,\n      selectedIds: []\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.options !== nextProps.options || this.state.showDropdown !== nextState.showDropdown || this.state.selectedIds !== nextState.selectedIds;\n  }\n\n  renderDisplay() {\n    const classes = classNames({\n      'dropdown__display': true,\n      //eslint-disable-line quote-props\n      'dropdown__display--with-caret': this.props.hasCaret\n    }),\n          caret = React.createElement(Icon, {\n      classes: ['dropdown__display-caret'],\n      glyph: iconChevronDown,\n      size: 'small',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: classes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.props.displayText, this.props.hasCaret ? caret : null);\n  }\n\n  renderSubMenu(options, depthLevel = 0) {\n    if (this.state.showDropdown !== true) {\n      return null;\n    }\n\n    const classes = ['dropdown__options'];\n    classes.push(`dropdown__options--${this.props.openDirection}-align`);\n    const menuOptions = options.map(option => {\n      const display = option.link ? React.createElement(\"a\", {\n        href: option.link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, option.message) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, option.message),\n            hasOptions = option.options && option.options.length > 0;\n      let subMenu; // only render selected submenu and only if nested options exist\n\n      if (this.state.selectedIds[depthLevel] === option.id && hasOptions) {\n        const newDepthLevel = depthLevel + 1;\n        subMenu = this.renderSubMenu(option.options, newDepthLevel);\n      }\n\n      return React.createElement(\"li\", {\n        key: option.id,\n        onMouseEnter: this.handleSelectedId(option.id, depthLevel),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, display, subMenu);\n    });\n    return React.createElement(\"div\", {\n      className: classNames.apply(null, classes),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, menuOptions));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"dropdown dropdown--nested\",\n      onClick: this.handleDropdownToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, this.renderDisplay(), this.renderSubMenu(this.props.options));\n  }\n\n}\nNestedDropdown.displayName = 'NestedDropdown';\nNestedDropdown.propTypes = {\n  openDirection: Prop.Type.enumOf(['left', 'right']),\n  displayText: Prop.Type.node.isRequired,\n  hasCaret: Prop.Type.bool,\n  options: Prop.Type.arrayOf(Prop.Type.shape(NestedDropdown.shape).isRequired).isRequired\n};\nNestedDropdown.defaultProps = {\n  hasCaret: true,\n  openDirection: 'left'\n};","map":{"version":3,"sources":["/home/mindbox/Documents/manoj/nexus/src/components/Sidebar/Types/LightVersion/UserSidebar.js"],"names":["NestedDropdown","React","Component","constructor","props","handleDropdownToggle","nextState","state","showDropdown","setState","selectedIds","handleDropdownClose","handleSelectedId","selected","depthLevel","updatedArray","slice","shouldComponentUpdate","nextProps","options","renderDisplay","classes","classNames","hasCaret","caret","iconChevronDown","displayText","renderSubMenu","push","openDirection","menuOptions","map","option","display","link","message","hasOptions","length","subMenu","id","newDepthLevel","apply","render","displayName","propTypes","Prop","Type","enumOf","node","isRequired","bool","arrayOf","shape","defaultProps"],"mappings":"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","sourcesContent":["export default class NestedDropdown extends React.Component {\n\n  static displayName = 'NestedDropdown';\n\n  // const shape = {\n  //   id: Prop.Type.string.isRequired,\n  //   message: Prop.Type.node.isRequired,\n  //   link: Prop.Type.string,\n  //   options:Prop.Type.arrayOf(\n  //     Prop.Type.shape(NestedDropdown.shape)\n  //   )\n  // };\n\n  static propTypes = {\n    openDirection: Prop.Type.enumOf(['left', 'right']),\n    displayText: Prop.Type.node.isRequired,\n    hasCaret: Prop.Type.bool,\n    options: Prop.Type.arrayOf(\n      Prop.Type.shape(NestedDropdown.shape).isRequired\n    ).isRequired\n  };\n\n  static defaultProps = {\n    hasCaret: true,\n    openDirection: 'left'\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showDropdown: false,\n      selectedIds: []\n    };\n  };\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.options !== nextProps.options\n      || this.state.showDropdown !== nextState.showDropdown\n      || this.state.selectedIds !== nextState.selectedIds;\n  }\n\n  handleDropdownToggle = () => {\n    let nextState = !this.state.showDropdown;\n\n    this.setState({\n      showDropdown: nextState,\n      selectedIds: []\n    });\n  };\n\n  handleDropdownClose = () => {\n    this.setState({\n      showDropdown: false,\n      selectedIds: []\n    });\n  };\n\n  handleSelectedId = (selected, depthLevel) => {\n    return () => {\n      const updatedArray = this.state.selectedIds.slice(0);\n\n      updatedArray[depthLevel] = selected;\n\n      this.setState({\n        selectedIds: updatedArray\n      });\n    };\n  };\n\n  renderDisplay() {\n    const classes = classNames({\n            'dropdown__display': true, //eslint-disable-line quote-props\n            'dropdown__display--with-caret': this.props.hasCaret\n          }),\n          caret = (\n            <Icon\n              classes={ ['dropdown__display-caret'] }\n              glyph={ iconChevronDown }\n              size={ 'small' }\n            />\n          );\n\n    return (\n      <div className={ classes }>\n        { this.props.displayText }\n        { this.props.hasCaret ? caret : null }\n      </div>\n    );\n  }\n\n  renderSubMenu(options, depthLevel = 0) {\n    if (this.state.showDropdown !== true) {\n      return null;\n    }\n\n    const classes = ['dropdown__options'];\n\n    classes.push(`dropdown__options--${this.props.openDirection}-align`);\n\n    const menuOptions = options.map(option => {\n      const display   = (option.link\n              ? <a href={ option.link }>{ option.message }</a>\n              : <span>{ option.message }</span>\n            ),\n            hasOptions = (option.options\n              && option.options.length > 0\n            );\n\n      let subMenu;\n\n      // only render selected submenu and only if nested options exist\n      if ((this.state.selectedIds[depthLevel] === option.id)\n        && hasOptions\n      ) {\n        const newDepthLevel = depthLevel + 1;\n\n        subMenu = this.renderSubMenu(option.options, newDepthLevel);\n      }\n\n      return (\n        <li\n          key={ option.id }\n          onMouseEnter={ this.handleSelectedId(option.id, depthLevel) }\n        >\n          { display }\n          { subMenu }\n        </li>\n      );\n    });\n\n    return (\n      <div className={ classNames.apply(null, classes) }>\n        <ul>\n          { menuOptions }\n        </ul>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        className='dropdown dropdown--nested'\n        onClick={ this.handleDropdownToggle }\n      >\n        { this.renderDisplay() }\n        { this.renderSubMenu(this.props.options) }\n      </div>\n    );\n  }\n\n}"]},"metadata":{},"sourceType":"module"}