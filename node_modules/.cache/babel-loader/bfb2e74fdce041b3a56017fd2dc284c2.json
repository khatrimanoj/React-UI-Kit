{"ast":null,"code":"import _classCallCheck from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/mindbox/Documents/manoj/nexus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import ReactDOM from'react-dom';var dropdownsearch=/*#__PURE__*/function(_Component){_inherits(dropdownsearch,_Component);function dropdownsearch(props){var _this;_classCallCheck(this,dropdownsearch);_this=_possibleConstructorReturn(this,_getPrototypeOf(dropdownsearch).call(this,props));_this.checkType=function(value){_this.setState({typeDropdown:value});};_this.showDropdown=function(){_this.setState({isOpen:true});document.addEventListener(\"click\",_this.hideDropdown);_this.inputRef.current.focus();};_this.hideDropdown=function(){_this.setState({isOpen:false});document.removeEventListener(\"click\",_this.hideDropdown);};_this.chooseItem=function(value){if(_this.state.labelItem!==value){_this.setState({labelItem:value});}};_this.renderDataDropDown=function(item,index){var _ref=_this.state.typeDropdown?{value:index,label:item}:item,value=_ref.value,label=_ref.label;return React.createElement(\"li\",{key:index,value:value,onClick:function onClick(){return _this.chooseItem(label);}},React.createElement(\"a\",null,label));};_this.handleChange=function(e){_this.setState({searchString:e.target.value});};_this.state={isOpen:false,labelItem:null,typeDropdown:null,searchString:'',data:''};_this.inputRef=React.createRef();_this.showDropdown=_this.showDropdown.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.clearInput=_this.clearInput.bind(_assertThisInitialized(_this));return _this;}_createClass(dropdownsearch,[{key:\"list\",value:function list(data){var _this2=this;var children=function children(items){if(items){return React.createElement(\"ul\",null,_this2.list(items));}};}},{key:\"componentWillMount\",value:function componentWillMount(){var label=this.props.list[0].label;var firstItem=null;if(typeof label!='undefined'){this.checkType(false);firstItem=label;}else{this.checkType(true);firstItem=this.props.list[0];}this.setState({labelItem:firstItem});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.inputRef.current.focus();}},{key:\"clearInput\",value:function clearInput(){this.setState({searchString:''});ReactDOM.findDOMNode(this.refs.inputRef).focus();}},{key:\"render\",value:function render(){var _this$props=this.props,list=_this$props.list,size=_this$props.size,border=_this$props.border;var dropdownClassname=\"\\n        dropdown\\n        \".concat(size==='lg'&&'lg-dropdown',\"\\n        \");var dropdowntoggleclass=\"\\n        dropdown-toggle\\n        \".concat(border==='false'&&'bordernone',\"\\n        \");/* searching code start here*/var libraries=list,searchString=this.state.searchString.trim().toLowerCase();if(searchString.length>0){libraries=libraries.filter(function(i){return i.label.toLowerCase().match(searchString);});}return React.createElement(\"div\",{className:\" \".concat(dropdownClassname,\" \").concat(this.state.isOpen?'open':'')},React.createElement(\"button\",{className:dropdowntoggleclass,type:\"button\",onClick:this.showDropdown},this.state.labelItem),React.createElement(\"ul\",{className:\"dropdown-menu\"},React.createElement(\"li\",null,React.createElement(\"div\",{className:\"dropdownsearch\"},React.createElement(\"input\",{type:\"text\",value:this.state.searchString,ref:this.inputRef,onChange:this.handleChange,placeholder:\"Type here...\"}),React.createElement(\"button\",null))),libraries.map(this.renderDataDropDown)));}}]);return dropdownsearch;}(Component);dropdownsearch.defaultProps={list:[]};export default dropdownsearch;","map":{"version":3,"sources":["/home/mindbox/Documents/manoj/nexus/src/components/Dropdown/dropdownmenu/dropdownmenu.js"],"names":["React","Component","ReactDOM","dropdownsearch","props","checkType","value","setState","typeDropdown","showDropdown","isOpen","document","addEventListener","hideDropdown","inputRef","current","focus","removeEventListener","chooseItem","state","labelItem","renderDataDropDown","item","index","label","handleChange","e","searchString","target","data","createRef","bind","clearInput","children","items","list","firstItem","findDOMNode","refs","size","border","dropdownClassname","dropdowntoggleclass","libraries","trim","toLowerCase","length","filter","i","match","map","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nclass dropdownsearch extends Component {\n    static propTypes = {\n        list: PropTypes.array.isRequired\n      };\n      static defaultProps = {\n        list: []\n      };\n      \n      constructor(props) {\n        super(props);    \n        this.state = {\n          isOpen: false,\n          labelItem: null,\n          typeDropdown: null,\n          searchString: '',\n          data: '',\n         \n        };\n        this.inputRef = React.createRef();\n        this.showDropdown = this.showDropdown.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.clearInput = this.clearInput.bind(this);\n\n\n      }\n      list(data) {\n        const children = (items) => {\n          if (items) {\n            return <ul>{ this.list(items) }</ul>\n        }\n      }\n      \n      \n    }\n    \n      componentWillMount() {\n        const { label } = this.props.list[0];\n        let firstItem = null;    \n        if (typeof label != 'undefined') {\n          this.checkType(false);\n          firstItem = label;\n        } else {\n          this.checkType(true);\n          firstItem = this.props.list[0];\n        }        \n        this.setState({\n            labelItem: firstItem\n        });    \n      }\n      componentDidUpdate() {\n        this.inputRef.current.focus(); }\n      checkType = (value) => {\n        this.setState({\n            typeDropdown: value\n        });    \n      };\n      showDropdown = () => {\n        this.setState({ isOpen: true });\n        document.addEventListener(\"click\", this.hideDropdown);\n        this.inputRef.current.focus();\n      };\n      hideDropdown = () => {\n        this.setState({ isOpen: false });\n        document.removeEventListener(\"click\", this.hideDropdown);\n      };\n      chooseItem = (value) => {    \n        if (this.state.labelItem !== value) {\n          this.setState({\n            labelItem: value      \n          })\n        }    \n      };\n      clearInput() {\n        this.setState({searchString: ''});\n        ReactDOM.findDOMNode(this.refs.inputRef).focus();\n     }\n      \n      renderDataDropDown = (item, index) => {    \n        const {value, label} = this.state.typeDropdown ? {value: index, label: item} : item;    \n        return (\n          <li\n            key={index}\n            value={value}\n            onClick={() => this.chooseItem(label)}\n          >\n            <a>{label}</a>\n          </li> \n        )\n      };\n     \n   handleChange = (e) => {\n     this.setState({ searchString:e.target.value });\n   }\n    render() {\n        const { list,size,border } = this.props; \n        const dropdownClassname = `\n        dropdown\n        ${size === 'lg' && 'lg-dropdown'}\n        `;   \n        const  dropdowntoggleclass = `\n        dropdown-toggle\n        ${border === 'false' && 'bordernone'}\n        `;   \n       /* searching code start here*/ \n       var libraries = list,\n       searchString = this.state.searchString.trim().toLowerCase();\n   if (searchString.length > 0) {\n     libraries = libraries.filter(function(i) {\n       return i.label.toLowerCase().match( searchString );\n     });\n   }\n        return (\n            <div className={ ` ${dropdownClassname} ${this.state.isOpen ? 'open' : ''}`} >\n            <button className={dropdowntoggleclass} type=\"button\" onClick={this.showDropdown}>\n               {this.state.labelItem}\n              \n            </button>\n            \n            <ul className=\"dropdown-menu\">\n                <li>\n                  <div className=\"dropdownsearch\">\n                     <input type=\"text\" value={this.state.searchString} ref={this.inputRef}  onChange={this.handleChange} placeholder=\"Type here...\"/>\n                     <button></button>\n                  </div>\n                \n                </li>\n              {libraries.map(this.renderDataDropDown)}\n            </ul>\n        </div>\n        );\n    }\n}\n\nexport default dropdownsearch;"]},"metadata":{},"sourceType":"module"}