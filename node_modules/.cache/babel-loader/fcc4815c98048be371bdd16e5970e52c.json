{"ast":null,"code":"var _jsxFileName = \"/home/mindbox/Documents/manoj/nexus/src/components/ChipsTags/Types/draggableChips.js\";\nimport React from 'react';\nimport Icon from 'react-icons-kit';\nimport avtar1 from '../../../images/avtar1.png';\nimport { x } from 'react-icons-kit/feather/x'; //drag and drop code start\n\nconst initialDnDState = {\n  draggedFrom: null,\n  draggedTo: null,\n  isDragging: false,\n  originalOrder: [],\n  updatedOrder: []\n};\nthis.state = {\n  liClassName: this.props.liClassName\n};\n\nconst TagsInputDraggable = props => {\n  const [tags, setTags] = React.useState(props.tags);\n\n  const removeTags = indexToRemove => {\n    setTags([...tags.filter((_, index) => index !== indexToRemove)]);\n  };\n\n  const addTags = event => {\n    if (event.target.value !== \"\") {\n      setTags([...tags, event.target.value]);\n      props.selectedTags([...tags, event.target.value]);\n      event.target.value = \"\";\n    }\n  }; //drag and drop code start\n\n\n  const [dragAndDrop, setDragAndDrop] = React.useState(initialDnDState);\n\n  const onDragStart = event => {\n    const initialPosition = Number(event.currentTarget.dataset.position);\n    setDragAndDrop({ ...dragAndDrop,\n      draggedFrom: initialPosition,\n      isDragging: true,\n      originalOrder: tags\n    });\n    event.dataTransfer.setData(\"text/html\", '');\n  };\n\n  const onDragOver = event => {\n    event.preventDefault();\n    let tags = dragAndDrop.originalOrder; // index of the item being dragged\n\n    const draggedFrom = dragAndDrop.draggedFrom; // index of the droppable area being hovered\n\n    const draggedTo = Number(event.currentTarget.dataset.position);\n    const itemDragged = tags[draggedFrom];\n    const remainingItems = tags.filter((item, index) => index !== draggedFrom);\n    tags = [...remainingItems.slice(0, draggedTo), itemDragged, ...remainingItems.slice(draggedTo)];\n\n    if (draggedTo !== dragAndDrop.draggedTo) {\n      setDragAndDrop({ ...dragAndDrop,\n        updatedOrder: tags,\n        draggedTo: draggedTo\n      });\n    }\n  };\n\n  const onDrop = event => {\n    setTags(dragAndDrop.updatedOrder);\n    setDragAndDrop({ ...dragAndDrop,\n      draggedFrom: null,\n      draggedTo: null,\n      isDragging: false\n    });\n  };\n\n  const onDragLeave = () => {\n    setDragAndDrop({ ...dragAndDrop,\n      draggedTo: null\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"tags-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"tags\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"to\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"To\"), tags.map((tag, index) => React.createElement(\"li\", {\n    key: index,\n    \"data-position\": index,\n    draggable: true,\n    onDragStart: onDragStart,\n    onDragOver: onDragOver,\n    onDrop: onDrop,\n    onDragLeave: onDragLeave,\n    className: `${[dragAndDrop && dragAndDrop.draggedTo === Number(index) ? \"tag draggable\" : `tag`]}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: avtar1,\n    alt: \"avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"tag-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, tag), React.createElement(\"span\", {\n    className: \"tag-close-icon\",\n    onClick: () => removeTags(index),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    icon: x,\n    size: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    onKeyUp: event => event.key === \"Enter\" ? addTags(event) : null,\n    placeholder: \"Add contact\",\n    autoFocus: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  })))));\n};\n\nexport default TagsInputDraggable;","map":{"version":3,"sources":["/home/mindbox/Documents/manoj/nexus/src/components/ChipsTags/Types/draggableChips.js"],"names":["React","Icon","avtar1","x","initialDnDState","draggedFrom","draggedTo","isDragging","originalOrder","updatedOrder","state","liClassName","props","TagsInputDraggable","tags","setTags","useState","removeTags","indexToRemove","filter","_","index","addTags","event","target","value","selectedTags","dragAndDrop","setDragAndDrop","onDragStart","initialPosition","Number","currentTarget","dataset","position","dataTransfer","setData","onDragOver","preventDefault","itemDragged","remainingItems","item","slice","onDrop","onDragLeave","map","tag","key"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Icon from 'react-icons-kit';\nimport avtar1 from '../../../images/avtar1.png';\nimport { x } from 'react-icons-kit/feather/x';\n//drag and drop code start\nconst initialDnDState = {\n    draggedFrom: null,\n    draggedTo: null,\n    isDragging: false,\n    originalOrder: [],\n    updatedOrder: []\n}\n\nthis.state = {\n    liClassName: this.props.liClassName\n}\nconst TagsInputDraggable = props => {\n\tconst [tags, setTags] = React.useState(props.tags);\n\tconst removeTags = indexToRemove => {\n\t\tsetTags([...tags.filter((_, index) => index !== indexToRemove)]);\n\t};\n\tconst addTags = event => {\n\t\tif (event.target.value !== \"\") {\n\t\t\tsetTags([...tags, event.target.value]);\n\t\t\tprops.selectedTags([...tags, event.target.value]);\n\t\t\tevent.target.value = \"\";\n\t\t}\n    };\n\n    //drag and drop code start\n    const [dragAndDrop, setDragAndDrop] = React.useState(initialDnDState);\n    const onDragStart = (event) => {\n        const initialPosition = Number(event.currentTarget.dataset.position);\n        \n        setDragAndDrop({\n            ...dragAndDrop,\n            draggedFrom: initialPosition,\n            isDragging: true,\n            originalOrder: tags\n        });\n        \n        \n        event.dataTransfer.setData(\"text/html\", '');\n    }\n    \n    const onDragOver = (event) => {\n    \n        event.preventDefault();\n        \n        let tags = dragAndDrop.originalOrder;\n        \n        // index of the item being dragged\n        const draggedFrom = dragAndDrop.draggedFrom; \n\n        // index of the droppable area being hovered\n        const draggedTo = Number(event.currentTarget.dataset.position); \n\n        const itemDragged = tags[draggedFrom];\n        const remainingItems = tags.filter((item, index) => index !== draggedFrom);\n\n        tags = [\n            ...remainingItems.slice(0, draggedTo),\n            itemDragged,\n            ...remainingItems.slice(draggedTo)\n        ];\n            \n        if (draggedTo !== dragAndDrop.draggedTo){\n            setDragAndDrop({\n                ...dragAndDrop,\n                updatedOrder: tags,\n                draggedTo: draggedTo\n            })\n        }\n\n    }\n    \n    const onDrop = (event) => {\n    \n        setTags(dragAndDrop.updatedOrder);\n        \n        setDragAndDrop({\n            ...dragAndDrop,\n            draggedFrom: null,\n            draggedTo: null,\n            isDragging: false\n        });\n    }\n\n\n    const onDragLeave = () => {\n        setDragAndDrop({\n            ...dragAndDrop,\n            draggedTo: null\n        });\n    \n    };\n\n    return (\n        <>\n            <>\n                <div className=\"tags-input\">\n                    <ul className=\"tags\">\n                        <li className=\"to\">To</li>\n                        {tags.map((tag, index) => (\n                            <li key={index}\n                                data-position={index}\n                                draggable\n                                onDragStart={onDragStart}\n                                onDragOver={onDragOver}\n                                onDrop={onDrop}\n                                onDragLeave={onDragLeave}\n                                className={`${[dragAndDrop && dragAndDrop.draggedTo=== Number(index) ? \"tag draggable\" :  `tag`]}`}>\n                                <img src={avtar1} alt=\"avatar\"/>\n                                <span className='tag-title'>{tag}</span>\n                                <span className='tag-close-icon'\n                                    onClick={() => removeTags(index)}\n                                >\n                                    <Icon icon={x} size={16} />\n                                </span>\n                            </li>\n                        ))}\n                    </ul>\n                    <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            onKeyUp={event => event.key === \"Enter\" ? addTags(event) : null}\n                            placeholder=\"Add contact\" autoFocus\n                        />\n                    </div>\n                </div>\n                {/* <div className=\"col-md-6\">\n                    <div className=\"tags-input\">\n                        <ul className=\"tags\">\n                            <li className=\"to\">To</li>\n                            {tags.map((tag, index) => (\n                                <li key={index}\n                                    data-position={index}\n                                    draggable\n                                    onDragStart={onDragStart}\n                                    onDragOver={onDragOver}\n                                    onDrop={onDrop}\n                                    onDragLeave={onDragLeave}\n                                    className={dragAndDrop && dragAndDrop.draggedTo=== Number(index) ? \"tag draggable rounded\" :  `tag rounded`}>\n                                    <img src={avtar1} alt=\"avatar\"/>\n                                    <span className='tag-title'>{tag}</span>\n                                    <span className='tag-close-icon'\n                                        onClick={() => removeTags(index)}\n                                    >\n                                        <Icon icon={x} size={16} />\n                                    </span>\n                                </li>\n                            ))}\n                        </ul>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                onKeyUp={event => event.key === \"Enter\" ? addTags(event) : null}\n                                placeholder=\"Add contact\"\n                            />\n                        </div>\n                    </div>\n                    <div className=\"tags-input md\">\n                        <ul className=\"tags\">\n                            <li className=\"to\">To</li>\n                            {tags.map((tag, index) => (\n                                <li key={index}\n                                    data-position={index}\n                                    draggable\n                                    onDragStart={onDragStart}\n                                    onDragOver={onDragOver}\n                                    onDrop={onDrop}\n                                    onDragLeave={onDragLeave}\n                                    className={dragAndDrop && dragAndDrop.draggedTo=== Number(index) ? \"tag draggable rounded\" :  `tag rounded`}>\n                                    <img src={avtar1} alt=\"avatar\"/>\n                                    <span className='tag-title'>{tag}</span>\n                                    <span className='tag-close-icon'\n                                        onClick={() => removeTags(index)}\n                                    >\n                                        <Icon icon={x} size={16} />\n                                    </span>\n                                </li>\n                            ))}\n                        </ul>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                onKeyUp={event => event.key === \"Enter\" ? addTags(event) : null}\n                                placeholder=\"Add contact\"\n                            />\n                        </div>\n                    </div>\n                </div> */}\n            </>\n\t\t</>\n\t);\n    };\n    \n    export default TagsInputDraggable;\n"]},"metadata":{},"sourceType":"module"}